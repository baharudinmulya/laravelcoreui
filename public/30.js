(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{494:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),s={name:"CreateMenuElement",data:function(){return{role:[],menulist:[],parents:[],types:[{label:"Link",value:"link"},{label:"Title",value:"title"},{label:"Dropdown",value:"dropdown"}],menuelement:{menu:0,name:"",role:[],type:"link",href:"",icon:"",parent:0},message:"",dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1,divHref:!1,divDropdownParent:!1,divIcon:!1}},methods:{goBack:function(){this.$router.go(-1)},selectRadioSelectRole:function(e){var t=this.menuelement.role.indexOf(e);t>-1?this.menuelement.role.splice(t,1):this.menuelement.role.push(e)},changeType:function(){var e=this.menuelement.type;"title"==e?(this.divHref=!1,this.divDropdownParent=!1,this.divIcon=!1):"link"==e?(this.divHref=!0,this.divDropdownParent=!0,this.divIcon=!0):(this.divHref=!1,this.divDropdownParent=!0,this.divIcon=!0)},updateSelectParent:function(){var e=this;a.a.get(this.$apiAdress+"/api/menu/element/get-parents?token="+localStorage.getItem("api_token")+"&menu="+e.menuelement.menu).then((function(t){e.parents=[{label:"Has no parent",value:"none"}];for(var n=0;n<t.data.length;n++)e.parents.push(t.data[n])})).catch((function(t){console.log(t),e.$router.push({path:"login"})}))},store:function(){var e=this;console.log(e.menuelement),a.a.post(this.$apiAdress+"/api/menu/element/store?token="+localStorage.getItem("api_token"),e.menuelement).then((function(t){e.name="",e.message="Successfully created menu element.",e.showAlert()})).catch((function(t){if("The given data was invalid."==t.response.data.message){for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");e.showAlert()}else console.log(t),e.$router.push({path:"login"})}))},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs},getData:function(){var e=this;a.a.get(this.$apiAdress+"/api/menu/element/create?token="+localStorage.getItem("api_token")+"&id="+e.$route.params.menu).then((function(t){e.role=t.data.roles,e.menulist=t.data.menulist})).catch((function(t){console.log(t),e.$router.push({path:"/login"})}))}},mounted:function(){this.getData(),this.menuelement.menu=this.$route.params.menu,this.updateSelectParent(),this.changeType()}},l=n(1),i=Object(l.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CRow",[n("CCol",{attrs:{col:"12",lg:"6"}},[n("CCard",{attrs:{"no-header":""}},[n("CCardBody",[n("h3",[e._v("\n          Create Menu Element\n        ")]),e._v(" "),n("CAlert",{attrs:{show:e.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(t){e.dismissCountDown=t}}},[e._v("\n          ("+e._s(e.dismissCountDown)+") "+e._s(e.message)+"\n        ")]),e._v(" "),n("CSelect",{attrs:{label:"Menu",value:e.menuelement.menu,plain:!0,options:e.menulist},on:{"update:value":[function(t){return e.$set(e.menuelement,"menu",t)},function(t){return e.updateSelectParent()}]}}),e._v(" "),n("p",[e._v("Roles")]),e._v(" "),n("div",{staticClass:"m-3"},e._l(e.role,(function(t){return n("CInputCheckbox",{key:t,attrs:{label:t,name:"selectRoles"},on:{"update:checked":function(n){return e.selectRadioSelectRole(t)}}})})),1),e._v(" "),n("CInput",{attrs:{label:"Name",type:"text",placeholder:"Name"},model:{value:e.menuelement.name,callback:function(t){e.$set(e.menuelement,"name",t)},expression:"menuelement.name"}}),e._v(" "),n("CSelect",{attrs:{label:"Type",value:e.menuelement.type,plain:!0,options:e.types},on:{"update:value":[function(t){return e.$set(e.menuelement,"type",t)},function(t){return e.changeType()}]}}),e._v(" "),n("p",[e._v("Other")]),e._v(" "),e.divHref?n("div",[n("CInput",{attrs:{label:"Href",type:"text",placeholder:"Href"},model:{value:e.menuelement.href,callback:function(t){e.$set(e.menuelement,"href",t)},expression:"menuelement.href"}})],1):e._e(),e._v(" "),e.divDropdownParent?n("div",[n("CSelect",{attrs:{label:"Dropdown parent",value:e.menuelement.parent,plain:!0,options:e.parents},on:{"update:value":function(t){return e.$set(e.menuelement,"parent",t)}}})],1):e._e(),e._v(" "),e.divIcon?n("div",[e._v("\n            Icon - Find icon class in: \n            "),n("a",{attrs:{href:"https://coreui.io/docs/icons/icons-list/#coreui-icons-free-502-icons",target:"_blank"}},[e._v("\n              CoreUI icons documentation\n            ")]),e._v(" "),n("br"),e._v(" "),n("CInput",{attrs:{type:"text",placeholder:"CoreUI Icon class - example: cil-bell"},model:{value:e.menuelement.icon,callback:function(t){e.$set(e.menuelement,"icon",t)},expression:"menuelement.icon"}})],1):e._e(),e._v(" "),n("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.store()}}},[e._v("Create")]),e._v(" "),n("CButton",{attrs:{color:"primary"},on:{click:e.goBack}},[e._v("Back")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=i.exports}}]);